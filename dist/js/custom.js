document.addEventListener("DOMContentLoaded",(()=>{})),window.onload=()=>{$(".js-projects-slider").each(((e,s)=>{let t=$(s).next().find(".js-projects-slider-qty");$(s).on("init reInit afterChange",(function(e,s,o,r){let i=(o||0)+1;t.html(i+'/<span class="projects__slider-qty_sm">'+s.slideCount+"</span>")}));let o=$(s).next().find(".js-projects-slider-arrow-prev"),r=$(s).next().find(".js-projects-slider-arrow-next");$(s).slick({autoplay:!1,dots:!1,nextArrow:r,prevArrow:o})})),$(".js-stories-slider").slick({slidesToShow:6,slidesToScroll:1,mobileFirst:!0,responsive:[{breakpoint:1180,settings:{slidesToShow:6}},{breakpoint:650,settings:{slidesToShow:4}},{breakpoint:450,settings:{slidesToShow:3}},{breakpoint:320,settings:{slidesToShow:2}}]}),$(".js-mask-phone").mask("+38 099 999 99 99"),(()=>{const e=document.querySelectorAll(".js-form-tabs-list-item-header"),s=(document.querySelectorAll(".js-form-tabs-list-item-header-icon"),document.querySelectorAll(".js-form-tabs-list-item-footer"));for(let t=0;t<e.length;t++)e[t].addEventListener("click",(o=>{for(let s=0;s<e.length;s++)e[s].getElementsByClassName("js-form-tabs-list-item-header-icon")[0].classList.remove("js-active");e[t].getElementsByClassName("js-form-tabs-list-item-header-icon")[0].classList.add("js-active");for(let e=0;e<s.length;e++)s[e].classList.remove("js-active");s[t].classList.add("js-active")}))})(),(()=>{const e=document.querySelector(".js-popup-main-open"),s=document.querySelector(".js-popup-main-close"),t=document.querySelector(".js-popup-main");e.addEventListener("click",(e=>{t.classList.add("js-active"),document.body.classList.add("modal-open")})),s.addEventListener("click",(e=>{t.classList.remove("js-active"),document.body.classList.remove("modal-open")}))})(),(()=>{const e=document.querySelectorAll(".js-stories-for-popup-container"),s=document.querySelector(".js-popup-secondary-close"),t=document.querySelector(".js-popup-secondary");for(let s=0;s<e.length;s++)e[s].addEventListener("click",(e=>{let s="";if(e.target.closest(".js-stories-for-popup-item")){const o=e.target.closest(".js-stories-for-popup-item"),r=o.querySelector(".js-stories-for-popup-item-header").innerHTML,i=o.dataset.img&&o.dataset.img,l=o.dataset.text&&o.dataset.text,n=i.split(",");let d='<ul class="slider owl-carousel js-slider">';for(let e=0;e<n.length;e++)d+=`<li class="slider__item">\n                                       <div class="slider__item-inner">\n                                          <img class="stories__popup-img" src="${n[e]}"/>\n                                       </div>\n                                 </li>`;d+="</ul>",n.length>1&&(d+='<div class="projects__slider-arrows">\n                                       <button class="projects__slider-arrow projects__slider-arrow-prev js-slider-arrow-prev">&lsaquo;</button>\n                                       <div class="projects__slider-qty js-slider-qty"></div>\n                                       <button class="projects__slider-arrow projects__slider-arrow-next js-slider-arrow-next">&rsaquo;</button>\n                                    </div>'),s=`<div class="stories__popup-content">\n                  <div class="stories__popup-img-wrap">\n                     ${d}\n                  </div>\n                  <div class="stories__popup-text-wrap">\n                     ${r}\n\n                     <div class="stories__popup-descr">\n                        <p class="stories__descr">\n                           ${l}\n                        </p>\n                     </div>\n                  </div>\n               </div>`,t.querySelector(".js-popup-secondary-content").innerHTML=s,t.classList.add("js-active"),document.body.classList.add("modal-open");let a=$(".js-slider").next().find(".js-slider-qty");$(".js-slider").on("init reInit afterChange",(function(e,s,t,o){let r=(t||0)+1;a.html(r+'/<span class="projects__slider-qty_sm">'+s.slideCount+"</span>")}));let c=$(".js-slider").next().find(".js-slider-arrow-prev"),p=$(".js-slider").next().find(".js-slider-arrow-next");$(".js-slider").slick({autoplay:!1,dots:!1,nextArrow:p,prevArrow:c})}}));s.addEventListener("click",(e=>{t.classList.remove("js-active"),t.querySelector(".js-popup-secondary-content").innerHTML="",document.body.classList.remove("modal-open"),$(".js-slider").slick("unslick")}))})()};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImN1c3RvbS5qcyJdLCJuYW1lcyI6WyJkb2N1bWVudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJ3aW5kb3ciLCJvbmxvYWQiLCIkIiwiZWFjaCIsImluZGV4IiwiZWxlbSIsIiRzdGF0dXMiLCJuZXh0IiwiZmluZCIsIm9uIiwiZXZlbnQiLCJzbGljayIsImN1cnJlbnRTbGlkZSIsIm5leHRTbGlkZSIsImkiLCJodG1sIiwic2xpZGVDb3VudCIsInByZXYiLCJhdXRvcGxheSIsImRvdHMiLCJuZXh0QXJyb3ciLCJwcmV2QXJyb3ciLCJzbGlkZXNUb1Nob3ciLCJzbGlkZXNUb1Njcm9sbCIsIm1vYmlsZUZpcnN0IiwicmVzcG9uc2l2ZSIsImJyZWFrcG9pbnQiLCJzZXR0aW5ncyIsIm1hc2siLCJ0YWJzIiwicXVlcnlTZWxlY3RvckFsbCIsInRhYnNDb250ZW50IiwibGVuZ3RoIiwiZSIsImsiLCJnZXRFbGVtZW50c0J5Q2xhc3NOYW1lIiwiY2xhc3NMaXN0IiwicmVtb3ZlIiwiYWRkIiwiaiIsIm1haW5Qb3B1cE9wZW5CdG4iLCJxdWVyeVNlbGVjdG9yIiwibWFpblBvcHVwQ2xvc2VCdG4iLCJtYWluUG9wdXAiLCJib2R5Iiwic3Rvcmllc1BvcHVwSXRlbXMiLCJzZWNvbmRhcnlQb3B1cENsb3NlQnRuIiwic2Vjb25kYXJ5UG9wdXAiLCJzdG9yaWVzUG9wdXBjb250ZW50IiwidGFyZ2V0IiwiY2xvc2VzdCIsImN1cnJlbnRJdGVtIiwic3RvcnlIZWFkZXIiLCJpbm5lckhUTUwiLCJzdG9yeUltZyIsImRhdGFzZXQiLCJpbWciLCJzdG9yeVRleHQiLCJ0ZXh0IiwiaW1hZ2VzQXJyYXkiLCJzcGxpdCIsImltYWdlc1NsaWRlciJdLCJtYXBwaW5ncyI6IkFBQ0FBLFNBQVNDLGlCQUFpQixvQkFBb0IsU0FTOUNDLE9BQU9DLE9BQVMsS0FHV0MsRUFBRSx1QkFFUkMsTUFBSyxDQUFDQyxFQUFPQyxLQUN6QixJQUFJQyxFQUFVSixFQUFFRyxHQUFNRSxPQUFPQyxLQUFL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ZEFPbkJiLEVBQ0csdUhBRUthLCtHQUdBVCxnSkFJTUssZ0hBTWRWLEVBQWVOLGNBQWMsK0JBQStCWSxVQUFZTCxFQUN4RUQsRUFBZVgsVUFBVUUsSUFBSSxhQUM3QnhDLFNBQVM4QyxLQUFLUixVQUFVRSxJQUFJLGNBRTVCLElBQUloQyxFQUFVSixFQUFFLGNBQWNLLE9BQU9DLEtBQUssa0JBQzFDTixFQUFFLGNBQWNPLEdBQUcsMkJBQTJCLFNBQVVDLEVBQU9DLEVBQU9DLEVBQWNDLEdBRWpGLElBQUlDLEdBQUtGLEdBQThCLEdBQUssRUFDNUNOLEVBQVFTLEtBQUtELEVBQUksMENBQTRDSCxFQUFNSyxXQUFhLGNBR25GLElBQUlDLEVBQU9mLEVBQUUsY0FBY0ssT0FBT0MsS0FBSyx5QkFDbkNELEVBQU9MLEVBQUUsY0FBY0ssT0FBT0MsS0FBSyx5QkFHdkNOLEVBQUUsY0FBY1MsTUFBTSxDQUNuQk8sVUFBVSxFQUNWQyxNQUFNLEVBQ05DLFVBQVdiLEVBQ1hjLFVBQVdKLFFBTXZCNkIsRUFBdUIvQyxpQkFBaUIsU0FBU2tDLElBQzlDYyxFQUFlWCxVQUFVQyxPQUFPLGFBQ2hDVSxFQUFlTixjQUFjLCtCQUErQlksVUFBWSxHQUN4RXZELFNBQVM4QyxLQUFLUixVQUFVQyxPQUFPLGNBQy9CbkMsRUFBRSxjQUFjUyxNQUFNLGVBcEY1QiIsImZpbGUiOiJjdXN0b20uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBwbGFjZWQgdGhpcyBmdW5jdGlvbnMgaW4gRE9NQ29udGVudExvYWRlZCwgc2luY2UgYWxsIHlvdSBuZWVkIHRvIGRvIHRvIHJ1biBpdCBpcyB0byBsb2FkIHRoZSBET01cclxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsICgpID0+IHtcclxuICAgLy8gSUlGRSBjb2RlIHdyYXBwaW5nXHJcbiAgICgoKSA9PiB7XHJcblxyXG4gICB9KSgpO1xyXG59KTtcclxuXHJcblxyXG4vLyBwbGFjZWQgdGhpcyBmdW5jdGlvbiBpbiB3aW5kb3cub25sb2FkIGFzIHRoZXJlIGFyZSBzdHlsZSBmaWxlcyBuZWVkZWQgaW4gY2FsY3VsYXRpb25zXHJcbndpbmRvdy5vbmxvYWQgPSAoKSA9PiB7XHJcbiAgIC8vIElJRkUgY29kZSB3cmFwcGluZ1xyXG4gICAoKCkgPT4ge1xyXG4gICAgICBsZXQgJHNsaWNrRWxlbWVudHMgPSAkKCcuanMtcHJvamVjdHMtc2xpZGVyJyk7XHJcblxyXG4gICAgICAkc2xpY2tFbGVtZW50cy5lYWNoKChpbmRleCwgZWxlbSkgPT4ge1xyXG4gICAgICAgICBsZXQgJHN0YXR1cyA9ICQoZWxlbSkubmV4dCgpLmZpbmQoJy5qcy1wcm9qZWN0cy1zbGlkZXItcXR5Jyk7XHJcbiAgICAgICAgICQoZWxlbSkub24oJ2luaXQgcmVJbml0IGFmdGVyQ2hhbmdlJywgZnVuY3Rpb24gKGV2ZW50LCBzbGljaywgY3VycmVudFNsaWRlLCBuZXh0U2xpZGUpIHtcclxuICAgICAgICAgICAgLy9jdXJyZW50U2xpZGUgaXMgdW5kZWZpbmVkIG9uIGluaXQgLS0gc2V0IGl0IHRvIDAgaW4gdGhpcyBjYXNlIChjdXJyZW50U2xpZGUgaXMgMCBiYXNlZClcclxuICAgICAgICAgICAgbGV0IGkgPSAoY3VycmVudFNsaWRlID8gY3VycmVudFNsaWRlIDogMCkgKyAxO1xyXG4gICAgICAgICAgICAkc3RhdHVzLmh0bWwoaSArICcvPHNwYW4gY2xhc3M9XCJwcm9qZWN0c19fc2xpZGVyLXF0eV9zbVwiPicgKyBzbGljay5zbGlkZUNvdW50ICsgJzwvc3Bhbj4nKTtcclxuICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICBsZXQgcHJldiA9ICQoZWxlbSkubmV4dCgpLmZpbmQoJy5qcy1wcm9qZWN0cy1zbGlkZXItYXJyb3ctcHJldicpO1xyXG4gICAgICAgICBsZXQgbmV4dCA9ICQoZWxlbSkubmV4dCgpLmZpbmQoJy5qcy1wcm9qZWN0cy1zbGlkZXItYXJyb3ctbmV4dCcpO1xyXG5cclxuICAgICAgICAgJChlbGVtKS5zbGljayh7XHJcbiAgICAgICAgICAgIGF1dG9wbGF5OiBmYWxzZSxcclxuICAgICAgICAgICAgZG90czogZmFsc2UsXHJcbiAgICAgICAgICAgIG5leHRBcnJvdzogbmV4dCxcclxuICAgICAgICAgICAgcHJldkFycm93OiBwcmV2LFxyXG4gICAgICAgICB9KTtcclxuXHJcbiAgICAgIH0pO1xyXG4gICB9KSgpO1xyXG5cclxuICAgKCgpID0+IHtcclxuICAgICAgJCgnLmpzLXN0b3JpZXMtc2xpZGVyJykuc2xpY2soe1xyXG4gICAgICAgICBzbGlkZXNUb1Nob3c6IDYsXHJcbiAgICAgICAgIHNsaWRlc1RvU2Nyb2xsOiAxLFxyXG4gICAgICAgICBtb2JpbGVGaXJzdDogdHJ1ZSxcclxuICAgICAgICAgcmVzcG9uc2l2ZTogW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgIGJyZWFrcG9pbnQ6IDExODAsXHJcbiAgICAgICAgICAgICAgIHNldHRpbmdzOiB7XHJcbiAgICAgICAgICAgICAgICAgIHNsaWRlc1RvU2hvdzogNlxyXG4gICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgYnJlYWtwb2ludDogNjUwLFxyXG4gICAgICAgICAgICAgICBzZXR0aW5nczoge1xyXG4gICAgICAgICAgICAgICAgICBzbGlkZXNUb1Nob3c6IDRcclxuICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgIGJyZWFrcG9pbnQ6IDQ1MCxcclxuICAgICAgICAgICAgICAgc2V0dGluZ3M6IHtcclxuICAgICAgICAgICAgICAgICAgc2xpZGVzVG9TaG93OiAzXHJcbiAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICBicmVha3BvaW50OiAzMjAsXHJcbiAgICAgICAgICAgICAgIHNldHRpbmdzOiB7XHJcbiAgICAgICAgICAgICAgICAgIHNsaWRlc1RvU2hvdzogMlxyXG4gICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgIF1cclxuICAgICAgfSk7XHJcbiAgIH0pKCk7XHJcblxyXG4gICAoKCkgPT4ge1xyXG4gICAgICAkKCcuanMtbWFzay1waG9uZScpLm1hc2soJyszOCAwOTkgOTk5IDk5IDk5Jyk7XHJcbiAgIH0pKCk7XHJcblxyXG4gICAoKCkgPT4ge1xyXG4gICAgICBjb25zdCB0YWJzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmpzLWZvcm0tdGFicy1saXN0LWl0ZW0taGVhZGVyJyk7XHJcbiAgICAgIGNvbnN0IHRhYnNJY29ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5qcy1mb3JtLXRhYnMtbGlzdC1pdGVtLWhlYWRlci1pY29uJyk7XHJcbiAgICAgIGNvbnN0IHRhYnNDb250ZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmpzLWZvcm0tdGFicy1saXN0LWl0ZW0tZm9vdGVyJyk7XHJcblxyXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRhYnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgdGFic1tpXS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBrID0gMDsgayA8IHRhYnMubGVuZ3RoOyBrKyspIHtcclxuICAgICAgICAgICAgICAgdGFic1trXS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdqcy1mb3JtLXRhYnMtbGlzdC1pdGVtLWhlYWRlci1pY29uJylbMF0uY2xhc3NMaXN0LnJlbW92ZSgnanMtYWN0aXZlJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGFic1tpXS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdqcy1mb3JtLXRhYnMtbGlzdC1pdGVtLWhlYWRlci1pY29uJylbMF0uY2xhc3NMaXN0LmFkZCgnanMtYWN0aXZlJyk7XHJcblxyXG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHRhYnNDb250ZW50Lmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgICAgIHRhYnNDb250ZW50W2pdLmNsYXNzTGlzdC5yZW1vdmUoJ2pzLWFjdGl2ZScpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRhYnNDb250ZW50W2ldLmNsYXNzTGlzdC5hZGQoJ2pzLWFjdGl2ZScpO1xyXG4gICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICB9KSgpO1xyXG5cclxuICAgKCgpID0+IHtcclxuICAgICAgY29uc3QgbWFpblBvcHVwT3BlbkJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5qcy1wb3B1cC1tYWluLW9wZW4nKTtcclxuICAgICAgY29uc3QgbWFpblBvcHVwQ2xvc2VCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuanMtcG9wdXAtbWFpbi1jbG9zZScpO1xyXG4gICAgICBjb25zdCBtYWluUG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuanMtcG9wdXAtbWFpbicpO1xyXG5cclxuICAgICAgbWFpblBvcHVwT3BlbkJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xyXG4gICAgICAgICBtYWluUG9wdXAuY2xhc3NMaXN0LmFkZCgnanMtYWN0aXZlJyk7XHJcbiAgICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZCgnbW9kYWwtb3BlbicpO1xyXG4gICAgICB9KVxyXG5cclxuICAgICAgbWFpblBvcHVwQ2xvc2VCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcclxuICAgICAgICAgbWFpblBvcHVwLmNsYXNzTGlzdC5yZW1vdmUoJ2pzLWFjdGl2ZScpO1xyXG4gICAgICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoJ21vZGFsLW9wZW4nKTtcclxuICAgICAgfSlcclxuICAgfSkoKTtcclxuXHJcbiAgICgoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHN0b3JpZXNQb3B1cEl0ZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmpzLXN0b3JpZXMtZm9yLXBvcHVwLWNvbnRhaW5lcicpO1xyXG4gICAgICBjb25zdCBzZWNvbmRhcnlQb3B1cENsb3NlQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmpzLXBvcHVwLXNlY29uZGFyeS1jbG9zZScpO1xyXG4gICAgICBjb25zdCBzZWNvbmRhcnlQb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5qcy1wb3B1cC1zZWNvbmRhcnknKTtcclxuXHJcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3Rvcmllc1BvcHVwSXRlbXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgc3Rvcmllc1BvcHVwSXRlbXNbaV0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcclxuXHJcbiAgICAgICAgICAgIGxldCBzdG9yaWVzUG9wdXBjb250ZW50ID0gJyc7XHJcblxyXG4gICAgICAgICAgICBpZiAoZS50YXJnZXQuY2xvc2VzdCgnLmpzLXN0b3JpZXMtZm9yLXBvcHVwLWl0ZW0nKSkge1xyXG5cclxuICAgICAgICAgICAgICAgY29uc3QgY3VycmVudEl0ZW0gPSBlLnRhcmdldC5jbG9zZXN0KCcuanMtc3Rvcmllcy1mb3ItcG9wdXAtaXRlbScpO1xyXG5cclxuICAgICAgICAgICAgICAgY29uc3Qgc3RvcnlIZWFkZXIgPSBjdXJyZW50SXRlbS5xdWVyeVNlbGVjdG9yKCcuanMtc3Rvcmllcy1mb3ItcG9wdXAtaXRlbS1oZWFkZXInKS5pbm5lckhUTUw7XHJcblxyXG4gICAgICAgICAgICAgICBjb25zdCBzdG9yeUltZyA9IGN1cnJlbnRJdGVtLmRhdGFzZXQuaW1nICYmIGN1cnJlbnRJdGVtLmRhdGFzZXQuaW1nO1xyXG4gICAgICAgICAgICAgICBjb25zdCBzdG9yeVRleHQgPSBjdXJyZW50SXRlbS5kYXRhc2V0LnRleHQgJiYgY3VycmVudEl0ZW0uZGF0YXNldC50ZXh0O1xyXG4gICAgICAgICAgICAgICBjb25zdCBpbWFnZXNBcnJheSA9IHN0b3J5SW1nLnNwbGl0KCcsJyk7XHJcblxyXG5cclxuICAgICAgICAgICAgICAgbGV0IGltYWdlc1NsaWRlciA9ICc8dWwgY2xhc3M9XCJzbGlkZXIgb3dsLWNhcm91c2VsIGpzLXNsaWRlclwiPic7XHJcbiAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgaW1hZ2VzQXJyYXkubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgICAgICAgaW1hZ2VzU2xpZGVyICs9IGA8bGkgY2xhc3M9XCJzbGlkZXJfX2l0ZW1cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInNsaWRlcl9faXRlbS1pbm5lclwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW1nIGNsYXNzPVwic3Rvcmllc19fcG9wdXAtaW1nXCIgc3JjPVwiJHtpbWFnZXNBcnJheVtqXX1cIi8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xpPmA7XHJcbiAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgaW1hZ2VzU2xpZGVyICs9ICc8L3VsPic7XHJcblxyXG4gICAgICAgICAgICAgICBpZiAoIGltYWdlc0FycmF5Lmxlbmd0aCA+IDEgKSB7XHJcbiAgICAgICAgICAgICAgICAgIGltYWdlc1NsaWRlciArPSBgPGRpdiBjbGFzcz1cInByb2plY3RzX19zbGlkZXItYXJyb3dzXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJwcm9qZWN0c19fc2xpZGVyLWFycm93IHByb2plY3RzX19zbGlkZXItYXJyb3ctcHJldiBqcy1zbGlkZXItYXJyb3ctcHJldlwiPiZsc2FxdW87PC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwcm9qZWN0c19fc2xpZGVyLXF0eSBqcy1zbGlkZXItcXR5XCI+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJwcm9qZWN0c19fc2xpZGVyLWFycm93IHByb2plY3RzX19zbGlkZXItYXJyb3ctbmV4dCBqcy1zbGlkZXItYXJyb3ctbmV4dFwiPiZyc2FxdW87PC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PmA7XHJcbiAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgIHN0b3JpZXNQb3B1cGNvbnRlbnQgPVxyXG4gICAgICAgICAgICAgICAgICBgPGRpdiBjbGFzcz1cInN0b3JpZXNfX3BvcHVwLWNvbnRlbnRcIj5cclxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN0b3JpZXNfX3BvcHVwLWltZy13cmFwXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICR7aW1hZ2VzU2xpZGVyfVxyXG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN0b3JpZXNfX3BvcHVwLXRleHQtd3JhcFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAke3N0b3J5SGVhZGVyfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN0b3JpZXNfX3BvcHVwLWRlc2NyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwic3Rvcmllc19fZGVzY3JcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgJHtzdG9yeVRleHR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvcD5cclxuICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICA8L2Rpdj5gO1xyXG5cclxuICAgICAgICAgICAgICAgc2Vjb25kYXJ5UG9wdXAucXVlcnlTZWxlY3RvcignLmpzLXBvcHVwLXNlY29uZGFyeS1jb250ZW50JykuaW5uZXJIVE1MID0gc3Rvcmllc1BvcHVwY29udGVudDtcclxuICAgICAgICAgICAgICAgc2Vjb25kYXJ5UG9wdXAuY2xhc3NMaXN0LmFkZCgnanMtYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZCgnbW9kYWwtb3BlbicpO1xyXG5cclxuICAgICAgICAgICAgICAgbGV0ICRzdGF0dXMgPSAkKCcuanMtc2xpZGVyJykubmV4dCgpLmZpbmQoJy5qcy1zbGlkZXItcXR5Jyk7XHJcbiAgICAgICAgICAgICAgICQoJy5qcy1zbGlkZXInKS5vbignaW5pdCByZUluaXQgYWZ0ZXJDaGFuZ2UnLCBmdW5jdGlvbiAoZXZlbnQsIHNsaWNrLCBjdXJyZW50U2xpZGUsIG5leHRTbGlkZSkge1xyXG4gICAgICAgICAgICAgICAgICAvL2N1cnJlbnRTbGlkZSBpcyB1bmRlZmluZWQgb24gaW5pdCAtLSBzZXQgaXQgdG8gMCBpbiB0aGlzIGNhc2UgKGN1cnJlbnRTbGlkZSBpcyAwIGJhc2VkKVxyXG4gICAgICAgICAgICAgICAgICBsZXQgaSA9IChjdXJyZW50U2xpZGUgPyBjdXJyZW50U2xpZGUgOiAwKSArIDE7XHJcbiAgICAgICAgICAgICAgICAgICRzdGF0dXMuaHRtbChpICsgJy88c3BhbiBjbGFzcz1cInByb2plY3RzX19zbGlkZXItcXR5X3NtXCI+JyArIHNsaWNrLnNsaWRlQ291bnQgKyAnPC9zcGFuPicpO1xyXG4gICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgIGxldCBwcmV2ID0gJCgnLmpzLXNsaWRlcicpLm5leHQoKS5maW5kKCcuanMtc2xpZGVyLWFycm93LXByZXYnKTtcclxuICAgICAgICAgICAgICAgbGV0IG5leHQgPSAkKCcuanMtc2xpZGVyJykubmV4dCgpLmZpbmQoJy5qcy1zbGlkZXItYXJyb3ctbmV4dCcpO1xyXG5cclxuXHJcbiAgICAgICAgICAgICAgICQoJy5qcy1zbGlkZXInKS5zbGljayh7XHJcbiAgICAgICAgICAgICAgICAgIGF1dG9wbGF5OiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgZG90czogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgIG5leHRBcnJvdzogbmV4dCxcclxuICAgICAgICAgICAgICAgICAgcHJldkFycm93OiBwcmV2LFxyXG4gICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICB9KVxyXG4gICAgICB9XHJcblxyXG4gICAgICBzZWNvbmRhcnlQb3B1cENsb3NlQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZSA9PiB7XHJcbiAgICAgICAgIHNlY29uZGFyeVBvcHVwLmNsYXNzTGlzdC5yZW1vdmUoJ2pzLWFjdGl2ZScpO1xyXG4gICAgICAgICBzZWNvbmRhcnlQb3B1cC5xdWVyeVNlbGVjdG9yKCcuanMtcG9wdXAtc2Vjb25kYXJ5LWNvbnRlbnQnKS5pbm5lckhUTUwgPSAnJztcclxuICAgICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdtb2RhbC1vcGVuJyk7XHJcbiAgICAgICAgICQoJy5qcy1zbGlkZXInKS5zbGljaygndW5zbGljaycpO1xyXG4gICAgICB9KVxyXG4gICB9KSgpO1xyXG59Il19
